<% items = grocery_list_items %>
<% inventory_lookup ||= {} %>
<section class="space-y-4">
  <div class="flex items-center justify-between">
    <div>
      <h2 class="text-xl font-semibold text-ink-900 dark:text-white">Itens da lista</h2>
      <p class="text-xs text-ink-400 dark:text-slate-400">Registre quantidades compradas ou conclua os itens para atualizar o estoque</p>
    </div>
    <% if items.any? %>
      <span class="inline-flex items-center gap-2 rounded-full bg-primary-500/15 px-3 py-1 text-xs font-semibold text-primary-600 dark:bg-primary-500/20 dark:text-primary-200">Total: <%= items.size %></span>
    <% end %>
  </div>

  <% if items.any? %>
    <div class="space-y-3">
      <%= render partial: "grocery_list_items/grocery_list_item", collection: items, as: :grocery_list_item, locals: { inventory_lookup: inventory_lookup } %>
    </div>
  <% else %>
    <div class="flex flex-col items-center gap-3 rounded-3xl border border-dashed border-ink-200/70 bg-white/60 p-10 text-center text-sm text-ink-400 dark:border-white/10 dark:bg-surface-800/60 dark:text-slate-300">
      <span class="text-3xl">🛍️</span>
      <p>Nada por aqui ainda. Adicione itens manualmente ou aceite sugestões para montar a lista.</p>
    </div>
  <% end %>
</section>
